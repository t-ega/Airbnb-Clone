
<main class="container mx-auto px-4 py-10 md:py-16">

  <% if @property.errors.any? %>
  <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
  <strong class="font-bold">Error!</strong>
  <span class="block sm:inline">There were one or more errors with your submission.</span>
  <ul class="mt-3 list-disc list-inside">
    <% @property.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
</div>

<% end %>
  <section class="grid gap-10 md:grid-cols-[1fr_400px] items-start">
    <div class="space-y-10">
    <%= form_with(model:@property) do |f| %>
      <div class="mb-10">
        <h2 class="text-2xl font-semibold text-airbnb-500">Photos</h2>
        <p class="text-gray-400">Upload photos that showcase your space.</p>
        <div class="mt-6 grid grid-cols-2 sm:grid-cols-3 gap-4">
          <div class="aspect-square bg-red-600 dark:hover:bg-red-800 rounded-lg overflow-hidden flex items-center justify-center group">
            <%= f.file_field :image,  accept: "image/*", 
            data: { action: "preview#update", controller: "preview" } %>
          </div>
        </div>
      </div>

      <div class="mb-10">
        <h2 class="text-2xl font-semibold text-airbnb-500">Details</h2>
        <p class="text-gray-400">Provide details about your property.</p>
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div>
          <%= f.label :name, "Namw", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :name, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :description, "Description", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :description, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :headline, "Headline", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :headline, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :city, "City", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :city, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :state, "State", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :state, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :address, "Address", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :address, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
          <div>
          <%= f.label :country, "Country", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
          <%= f.text_field :country, class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-50"  %>
          </div>
        </div>
      </div>
      <div class="mb-10">
        <h2 class="text-2xl font-semibold text-airbnb-500">Pricing</h2>
        <p class="text-gray-400">Set the nightly price for your property.</p>
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div>
            <%= f.label :price, "Price per night", class: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"  %>
            <%=f.number_field :price,
              class: "flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-500",
              id: "price",
              placeholder:"$100",
              min:"0"
            %>
          </div>
          <div>
            <label
              class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400"
              for="cleaning-fee"
            >
              Cleaning fee
            </label>
            <input
              class="flex h-10 w-full rounded-md border px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-500"
              id="cleaning-fee"
              placeholder="$50"
              min="0"
              step="1"
              type="number"
            />
          </div>
        </div>
      </div>
      <div class="mb-10">
        <%= f.label :description, "Description", class: "text-2xl font-semibold text-airbnb-500"  %>
        <%# <h2 class="text-2xl font-semibold text-airbnb-500">Description</h2> %>
        <p class="text-gray-400">Provide a detailed description of your property.</p>
        <%= f.text_area :description,
          class: "flex min-h-[80px] w-full rounded-md border px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-6 h-40 text-airbnb-500 placeholder-gray-400 dark:placeholder-gray-500",
          placeholder: "Describe your property in detail..."
        %>
      </div>
    </div>
    <div class="sticky top-6 self-start space-y-6">
      <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
        <div class="flex flex-col space-y-1.5 p-6">
          <h3 class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight text-airbnb-500">
            Preview
          </h3>
        </div>
        <div class="p-6">
          <div class="grid gap-4">
            <img
              src=<%= @property.image_url %>
              id="property-preview"
              alt="Property preview"
              class="aspect-[3/2] rounded-lg object-cover"
              width="450"
              height="300"
            />
            <div class="space-y-2">
              <div class="text-xl font-semibold text-airbnb-500">Cozy Mountain Retreat</div>
              <div class="text-gray-400">2 bedrooms · 1 bathroom · Wifi · Kitchen</div>
              <div class="text-2xl font-semibold text-airbnb-500">$150 / night</div>
            </div>
          </div>
        </div>
      </div>
      <%= f.submit "Submit", class: "inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-11 rounded-md px-8 w-full bg-primary hover:bg-primary text-white" %>
      <%= f.button "Delete",formmethod: :delete, data: { confirm: "Are you sure?" }, class: "inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-11 rounded-md px-8 w-full bg-primary hover:bg-primary text-white" %>
       <% end %>
    </div>
  </section>
</main>